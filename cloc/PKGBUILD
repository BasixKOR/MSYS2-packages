# Contributer: Baruch Burstein <bmburstein at gmail dot com>

pkgname=cloc
pkgver=2.02
pkgrel=1
pkgdesc="Count lines of code"
arch=('any')
url="https://github.com/AlDanial/cloc"
license=('GPL')
depends=('perl' 'perl-Algorithm-Diff' 'perl-Regexp-Common' 'perl-Parallel-ForkManager')
source=(${pkgname}-${pkgver}.tar.gz::https://github.com/AlDanial/cloc/archive/v${pkgver}.tar.gz)
sha256sums=('ce436edb633a06f0ee408e858f8536d0564e8404e656767b3669eb629bf95bf8')
noextract=(${pkgname}-${pkgver}.tar.gz)

prepare() {
  [[ -d ${pkgname}-${pkgver} ]] && rm -rf ${pkgname}-${pkgver}
  tar -xzvf ${pkgname}-${pkgver}.tar.gz -C ${srcdir} || true
}

package() {
  cd ${pkgname}-${pkgver}/Unix
  make DESTDIR="${pkgdir}" install
}
